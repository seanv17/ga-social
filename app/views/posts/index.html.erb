<section>
  <div class="postsindex">
    <div class="container">
      <h1>GA-Social Posts</h1>
      <%= button_to "Serach Posts", search_posts_path, method: 'get', class: 'btn btn-info' %><br>
      <%= button_to "Add New Post", new_post_path, method: 'get', class: 'btn btn-primary' %>
      <hr>
        <% for post in @posts do%>
          <b>Posted by: <%=link_to post.user.first_name + " " + post.user.last_name, user_path(post.user)%></b><br>

        <% if current_user.id == post.user_id%>
          <!--best_in_place gem enables inline editing  -->
            <%= best_in_place post, :body, :as => :textarea, :ok_button => 'Save', :cancel_button => 'Cancel' %><br><br>
            <%= button_to "Delete", post_path(post) , method: :delete,
                data: {confirm: "Are you sure you want to delete this post?"}, class: 'btn btn-danger' %>
        <% else %>
          <%= post.body %>
        <% end %><hr>
        <% end %>
        <%= will_paginate @posts, renderer: BootstrapPagination::Rails%>
    </div>
  </div>
</section>
